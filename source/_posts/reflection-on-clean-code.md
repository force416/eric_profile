---
title: 讀書心得 - clean code 無瑕的程式碼
toc: true
comments: true
date: 2016-11-05 13:28:11
description:
tags:
categories:
    - 讀書心得
---
### clean code 無瑕的程式碼

身為一位軟體開發人員，在撰寫程式碼時，除了要程式基本要能運作，還要考慮程式碼的可維護性、易讀性，
如果後續接手的開發人員看不懂前人寫的程式，對於整個產品來說是一種災難，因為必需花時間trace code，
或是破釜沉舟的把程式碼刪掉重新開發，所以軟體開發人員在開發第一版的程式碼時就要小心注意的撰寫，
確保程式碼的整齊簡潔。

這本書主要就軟體開發的過程中如函數(function)、變數(variable)、類別(class)...等等各項細節中，
由前人累積的經驗告訴我們適當的程式碼撰寫方式會讓人更容易閱讀、更容易維護，因為寫程式碼不只機器要看的，
更重要的是寫給人看的，書中印象比較深刻的觀念是，「用良好的命名方式(naming)取代加上註解(comment)」，
剛開始當軟體開發人員沒多久時，總以為註解要寫的夠完善，後續接手維護程式碼的人才能知道當初撰寫程式碼的人的想法，
這麼說是沒錯，不過考慮到如果在中途程式碼的更動，而註解並沒有因程式碼的更動而一起更新，這時的註解就會變成過時的，
久而久之註解描述的內容已經更不上程式碼的變動，但是如果在撰寫程式碼就給程式碼良好的命名，諸如變數(variable)、函數(function)、類別名稱(class)、
例外(exception)等等，有良好的命名，在閱讀程式碼時可以一眼就知道該段程式碼的作用，而不用再花額外的精力去看註解內容。

還有一個印象比較深刻的觀念是if else「封裝條件判斷」，以往在撰寫程式碼時總是在if的判斷式裡面描述複雜的判斷，
這樣寫容易將流程與邏輯綁在一起，改成這樣寫將條件判斷抽出來寫一函數再引用比較易閱讀。

```java
//good
if (shouldBeDeleted(timer))

//bad
if (timer.hasExpired() && !timer.isRecurrent())
```

### 函式一次只做一件事

軟體開發人員在撰寫程式碼時，往往過於專注在讓程式碼運作，而乎略了讓程式碼簡潔易讀，
在同一個函式裡描述了不只一件事情，過多的程式碼會造成這個函式不容易重用(reuse)，
綁定太多的邏輯，也不好進行單元測試(unit test)，所以應該避免在函式裡做超過一件事情。

### 單一職責原則(SRP，Single Responsibility Principle)

單一職責原則是物件導向程式語言一個很重要的概念，主張一個類別或一個模組應該有一個，而且只能有一個修改的理由，
開發一個產品應該致力於讓很多個小類別組成，而不是讓少數幾個大類別組成，將模組切開，而不是將所有的程式碼都擠在同一個類別。
